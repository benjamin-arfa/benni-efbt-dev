OpenRegSpecs { 
	tests {
		TestModule frtb_e2e_test1Module {
						license "Copyright (c) 2020 Bird Software Solutions Ltd
 All rights reserved. This file and the accompanying materials are made available under the terms of the Eclipse Public License v2.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v20.html

SPDX-License-Identifier: EPL-2.0 

 Contributors:
 Neil Mackenzie - initial API and implementation"
			tests { 
				Test frtb_e2e_test1 {
					scope E2ETestScope  frtb_e2e_test1_scope {
						
						scenarios (
							"frtb_workflow_module.frtb.Derivation.PreNetting.DeltaNetting.Netted_delta_sensitivities_identifier.Netted_delta_sensitivities_identifier_primary_sceanrio" ,
							"frtb_workflow_module.frtb.Derivation.PreNetting.DeltaNetting.Netted_delta_sensitivities.Netted_delta_sensitivities_primary_sceanrio"
							)
						layer "frtb_workflow_module.frtb.Report Generation.FRTB_C91.GIRR_Net_Sensitivity_Layer"
						scriptTask "frtb_workflow_module.frtb.Report Generation.FRTB_C91"
						
						}
						inputData { 
							
							CSVFile { 
							fileName "Delta_sensitivity.csv"
							entity "open_reg_specs.Delta_sensitivity"
							header CSVHeader { attributes ( 
							 "open_reg_specs.Risk_measure.Risk_measure_Risk_measure_identifier",
							 "open_reg_specs.Delta_sensitivity.Delta_sensitivity_Delta_sensitivity",
							 "open_reg_specs.Delta_sensitivity.Delta_sensitivity_Currency_of_record"
							) 
							} 
							rows {
							CSVRow { value { "delta_1", "100.00" , "USD"} } ,
							CSVRow { value { "delta_2", "300.00" ,  "USD"} } 
						}} ,
						CSVFile { 
							fileName "Netted_delta_sensitivities_per_risk_factor_and_tenor_derived.csv"
							entity "open_reg_specs.Netted_delta_sensitivities_per_risk_factor_and_tenor_derived"
							header CSVHeader { attributes ( 
							 "open_reg_specs.Netted_delta_sensitivities_per_risk_factor_and_tenor_derived.Netted_delta_sensitivities_per_risk_factor_and_tenor_derived_theDelta_sensitivitys",
							 "open_reg_specs.Netted_delta_sensitivities_per_risk_factor_and_tenor_derived.Netted_delta_sensitivities_per_risk_factor_and_tenor_derived_Netted_delta_sensitivities"
							  					
							) 
							} 
							rows {
							CSVRow { value { "[delta_1,delta_2]" , "400"} } 
						}}
						} 
						expectedResult  { 
							CSVFile { 
								entity "open_reg_specs.OUTPUT_LAYER_FRTB"
								header CSVHeader {
									attributes ( 
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Approach_For_Prudential_Purposes",
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Base",
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Main_Catagory",
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Prudentia_lPortfolio",
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Sensitivity_To_Delta_Risk_Factors" ,
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Type_And_Nature_Of_Sensitivity",
										"open_reg_specs.OUTPUT_LAYER_FRTB.OUTPUT_LAYER_FRTB_Type_Of_Risk"

									) 
								}
								rows {  CSVRow { value { "Sensitivities_Based_Method" , 
															"Memorandum_Items", 
															"Instruments_Subject_To_Market_Risk", 
															"Banking_And_Trading_Book", 
															"400.00",
															"Sensitivity_Net_Per_Risk_Class_Unweighted",
															"GIRR"
															}
									}						
								}
							}
						}
						
						
						}
						}
						}
					}
				} 
		